import{a6 as r,a7 as d}from"./app-B05HYnb3.js";var m=Object.getOwnPropertyDescriptor,g=(t,e,a,n)=>{for(var i=n>1?void 0:n?m(e,a):e,o=t.length-1,s;o>=0;o--)(s=t[o])&&(i=s(i)||i);return i};let l=class{constructor(){this.language="en",this.mapBlocksGrid=t=>t.map(e=>({id:e.id,avatar:this.getBlockImage(e),name:this.getBlockName(e),parent:this.getParentBlock(e.parentId,t),isActive:e.isActive,createdAt:e.createdAt,category:e.category})),this.getParentBlock=(t,e)=>{let a="";if(t!==null){const n=e.find(i=>i.id===t)||null;n!==null&&(a=n.translations.find(i=>i.language===this.language)?.name||"")}return a},this.getBlockName=t=>t.translations.find(e=>e.language===this.language)?.name||"",this.getBlockNameById=(t,e)=>{const a=e.find(n=>n.id===t);return a?this.getBlockName(a):""},this.getBlockRows=t=>{let e=[];return t.map(a=>{e=[...e,{id:a.id,name:this.getBlockName(a),parent:this.getParentBlock(a.parentId,t),isActive:a.isActive,edit:"Edit",delete:"Delete",createdAt:a.createdAt,image:this.getBlockImage(a)}]}),e},this.getBlockImage=t=>`${window.location.origin}/file/blocks/${t.images[0]?.url}`,this.getImageUrl=t=>`${window.location.origin}/file/blocks/${t}`,this.getTranslationsDetails=t=>{const e={};return t.map(a=>{Object.assign(e,{[a.language]:{name:a.name,description:a.description,brief:a.brief}})}),e},this.storeBlock=t=>r.post("/admin/block",t,{headers:{"Content-Type":"multipart/form-data"}}),this.updateBlock=(t,e)=>r.post("/admin/block/translations/"+e+"?_method=PATCH",t,{headers:{"Content-Type":"multipart/form-data"}}),this.blockActivation=(t,e)=>r.post("/admin/block/activation/"+e+"?_method=PATCH",t,{headers:{"Content-Type":"multipart/form-data"}}),this.addImage=(t,e)=>r.post("/admin/block/upload/file/"+e,t,{headers:{"Content-Type":"multipart/form-data"}}),this.uploadImage=(t,e)=>r.post("/admin/block/upload/file/"+e+"?_method=PATCH",t,{headers:{"Content-Type":"multipart/form-data"}}),this.deleteImage=(t,e)=>r.post("/admin/block/upload/file/"+e+"?_method=DELETE",t,{headers:{"Content-Type":"multipart/form-data"}}),this.deleteBlock=(t,e)=>r.post("/admin/block/"+t+"?_method=DELETE",e??{},{headers:{"Content-Type":"multipart/form-data"}}),this.reorder=t=>r.post("/admin/block/reorder",t,{headers:{"Content-Type":"multipart/form-data"}}),this.getActiveBlocks=t=>r.get(`/api/get-blocks/${t}`),this.getSVGImage=t=>r.get(`/file/blocks/${t}`),this.getProperties=(t,e)=>r.get(`/${t}/api/properties${e}`),this.getProjects=(t,e)=>r.get(`/${t}/api/projects${e}`)}};l=g([d()],l);export{l as B};
