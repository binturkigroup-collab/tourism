import{r as t,j as d}from"./app-DiW-XT2R.js";import{c as l}from"./index-Dc_FVRD7.js";import{c as j}from"./index-B1shdT8H.js";import{u as L}from"./index-CZmAhIi3.js";import{u as k}from"./index-Cn1U3PfC.js";import{c as E,R as F,A as M,C as I,a as U}from"./index-ZMpSOuds.js";import{P as W}from"./index-CsF6je_B.js";import{P as $}from"./index-Bnh_b77s.js";import{D as z}from"./index-YqLGmFur.js";import{c as B}from"./utils-Cf3rMUPJ.js";import"./index-Bge5PdZz.js";import"./index-BJkxk9Wa.js";import"./index-CGN9nufG.js";var w,S="HoverCard",[T,ve]=j(S,[E]),g=E(),[G,b]=T(S),H=e=>{const{__scopeHoverCard:r,children:n,open:s,defaultOpen:a,onOpenChange:c,openDelay:f=700,closeDelay:v=300}=e,i=g(r),m=t.useRef(0),u=t.useRef(0),C=t.useRef(!1),p=t.useRef(!1),[h,o]=L({prop:s,defaultProp:a??!1,onChange:c,caller:S}),x=t.useCallback(()=>{clearTimeout(u.current),m.current=window.setTimeout(()=>o(!0),f)},[f,o]),_=t.useCallback(()=>{clearTimeout(m.current),!C.current&&!p.current&&(u.current=window.setTimeout(()=>o(!1),v))},[v,o]),A=t.useCallback(()=>o(!1),[o]);return t.useEffect(()=>()=>{clearTimeout(m.current),clearTimeout(u.current)},[]),d.jsx(G,{scope:r,open:h,onOpenChange:o,onOpen:x,onClose:_,onDismiss:A,hasSelectionRef:C,isPointerDownOnContentRef:p,children:d.jsx(F,{...i,children:n})})};H.displayName=S;var O="HoverCardTrigger",y=t.forwardRef((e,r)=>{const{__scopeHoverCard:n,...s}=e,a=b(O,n),c=g(n);return d.jsx(M,{asChild:!0,...c,children:d.jsx($.a,{"data-state":a.open?"open":"closed",...s,ref:r,onPointerEnter:l(e.onPointerEnter,R(a.onOpen)),onPointerLeave:l(e.onPointerLeave,R(a.onClose)),onFocus:l(e.onFocus,a.onOpen),onBlur:l(e.onBlur,a.onClose),onTouchStart:l(e.onTouchStart,f=>f.preventDefault())})})});y.displayName=O;var K="HoverCardPortal",[me,V]=T(K,{forceMount:void 0}),P="HoverCardContent",N=t.forwardRef((e,r)=>{const n=V(P,e.__scopeHoverCard),{forceMount:s=n.forceMount,...a}=e,c=b(P,e.__scopeHoverCard);return d.jsx(W,{present:s||c.open,children:d.jsx(q,{"data-state":c.open?"open":"closed",...a,onPointerEnter:l(e.onPointerEnter,R(c.onOpen)),onPointerLeave:l(e.onPointerLeave,R(c.onClose)),ref:r})})});N.displayName=P;var q=t.forwardRef((e,r)=>{const{__scopeHoverCard:n,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:c,onInteractOutside:f,...v}=e,i=b(P,n),m=g(n),u=t.useRef(null),C=k(r,u),[p,h]=t.useState(!1);return t.useEffect(()=>{if(p){const o=document.body;return w=o.style.userSelect||o.style.webkitUserSelect,o.style.userSelect="none",o.style.webkitUserSelect="none",()=>{o.style.userSelect=w,o.style.webkitUserSelect=w}}},[p]),t.useEffect(()=>{if(u.current){const o=()=>{h(!1),i.isPointerDownOnContentRef.current=!1,setTimeout(()=>{document.getSelection()?.toString()!==""&&(i.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",o),()=>{document.removeEventListener("pointerup",o),i.hasSelectionRef.current=!1,i.isPointerDownOnContentRef.current=!1}}},[i.isPointerDownOnContentRef,i.hasSelectionRef]),t.useEffect(()=>{u.current&&X(u.current).forEach(x=>x.setAttribute("tabindex","-1"))}),d.jsx(z,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:f,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:l(c,o=>{o.preventDefault()}),onDismiss:i.onDismiss,children:d.jsx(I,{...m,...v,onPointerDown:l(v.onPointerDown,o=>{o.currentTarget.contains(o.target)&&h(!0),i.hasSelectionRef.current=!1,i.isPointerDownOnContentRef.current=!0}),ref:C,style:{...v.style,userSelect:p?"text":void 0,WebkitUserSelect:p?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),J="HoverCardArrow",Q=t.forwardRef((e,r)=>{const{__scopeHoverCard:n,...s}=e,a=g(n);return d.jsx(U,{...a,...s,ref:r})});Q.displayName=J;function R(e){return r=>r.pointerType==="touch"?void 0:e()}function X(e){const r=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;n.nextNode();)r.push(n.currentNode);return r}var Y=H,Z=y,D=N;const Ce=Y,he=Z,ee=t.forwardRef(({className:e,align:r="center",sideOffset:n=4,...s},a)=>d.jsx(D,{ref:a,align:r,sideOffset:n,className:B("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s}));ee.displayName=D.displayName;export{Ce as HoverCard,ee as HoverCardContent,he as HoverCardTrigger};
