import{C as S,R as D,a as l,j as r,H as v,b as E}from"./app-C3wK80uY.js";import{E as b,D as L}from"./DeleteButton-CS-KE0IY.js";import{u as A}from"./SnackbarHook-vWpH4Y2e.js";import{C as j}from"./CustomSnackbar-G8VUdTuF.js";import{L as T}from"./LeadService-DwJghmXV.js";import{A as k}from"./AdminLayout-Bn0_Hkt7.js";import{B as y}from"./Box-DXkLJjvK.js";import{G as R,C as P,a as I,P as F,T as B,E as z,b as G,S as H,c as N,d as M,F as O,R as q}from"./grid.component-C-UJl6Wi.js";import{I as _}from"./toolbar-DUNkpNtP.js";import"./CustomButton-C3dP_EVb.js";import"./Paper-BEwslr8d.js";import"./useSlot-D00As9hZ.js";import"./Send-MfSLearV.js";import"./Button-DN2uCHAG.js";import"./Modal-BOfQSbY0.js";import"./IconButton-DcP_xRJ9.js";import"./styles.module-DNUDPVkR.js";import"./BlockCategories-gKFyJIeZ.js";import"./Icon-8M-402I0.js";import"./mail-DB0D0Sj1.js";import"./createLucideIcon-CcfZQpLF.js";import"./smartphone-Ba5ETqIJ.js";import"./isHostComponent-CYuES88E.js";import"./MenuItem-CqmEd7jq.js";import"./listItemTextClasses-BIi4qrrm.js";import"./listItemButtonClasses-HyWYRFaA.js";import"./ListItemIcon-DD3KcyQi.js";import"./ListItemText-CY5tp-cQ.js";import"./hook-BoUlgXeS.js";import"./Avatar-CTIonlLm.js";import"./Menu-Bg2AoiNO.js";import"./ThemeProvider-DYsQb5zk.js";const ve=({leads:d})=>{const m=S.get(T),[s,p]=D.useState(d),c=e=>{console.log("delete here"),m.delete(new FormData,e.id).then(()=>{p(s.filter(t=>t.id!==e.id)),E.reload(),n(t=>({...t,open:!0,message:"Lead has been deleted!",severity:"success"}))}).catch(t=>{n(o=>({...o,open:!0,message:"Error happened when deleting Lead!",severity:"error"}))})},x=[{type:"checkbox",width:"50"},{field:"referenceName",headerText:"Reference",width:"150",textAlign:"Center"},{field:"agentName",headerText:"Agent",width:"130",textAlign:"Center"},{field:"name",headerText:"Name",width:"130",textAlign:"Center"},{field:"phone",headerText:"Phone",width:"130",textAlign:"Center"},{field:"email",headerText:"Email",width:"130",textAlign:"Center"},{field:"message",headerText:"Message",width:"130",textAlign:"Center"},{headerText:"Edit",width:"130",textAlign:"Center",template:b},{headerText:"Delete",width:"130",textAlign:"Center",template:e=>L(e,c)}];let i;const h={type:"Multiple"},g={type:"Excel"},u={pageSizes:l.PageSizes,pageSize:l.ListLimit,totalRecordsCount:3,pageCount:25},{snackbar:a,setSnackbar:n,handleClose:f}=A(),w=e=>{switch(e.requestType){case"paging":break;case"searching":e.searchString;break}},C=e=>{if(e.rows!==void 0&&e.fromIndex!==void 0&&e.dropIndex!==void 0){e.cancel=!0;let t=[];for(let o=0;o<e?.rows?.length;o++)t.push(e?.fromIndex+o);i&&i.reorderRows(t,e.dropIndex)}};return r.jsxs(k,{children:[r.jsx(v,{title:"Leads"}),r.jsxs(y,{children:[r.jsxs(R,{ref:e=>i=e,id:"blockComp",dataSource:s,allowPaging:!0,allowSorting:!0,allowFiltering:!0,allowExcelExport:!0,allowPdfExport:!0,toolbar:["Delete","Search"],editSettings:{allowDeleting:!0,showDeleteConfirmDialog:!0},filterSettings:g,pageSettings:u,actionComplete:w,allowRowDragAndDrop:!0,selectionSettings:h,rowDrop:C,children:[r.jsx(P,{children:x.map((e,t)=>r.jsx(I,{...e},t))}),r.jsx(_,{services:[F,B,z,G,H,N,M,O,q]})]}),r.jsx(j,{open:a.open,message:a.message,onClose:f,severity:a.severity})]})]})};export{ve as default};
