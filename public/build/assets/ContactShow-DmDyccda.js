import{C as x,R as o,j as e,H as M,L as D,b as E}from"./app-DiW-XT2R.js";import{A as F}from"./AdminLayout-BncvC458.js";import{CardTitle as T}from"./card-C8NVqiK_.js";import{u as H}from"./SnackbarHook-CcEHZ6yi.js";import{C as P}from"./ContactService-CpHwabnS.js";import{B as I}from"./BlockService-B1hVAasl.js";import{C as L}from"./CustomSnackbar-Dw7l-5cQ.js";import{D as R}from"./DeleteModal-vG7oVwY-.js";import{C as U}from"./CustomButton-nEbszSQU.js";import{C as z}from"./CustomerType-CT2hPlaq.js";import{Button as h}from"./button-CkCT4k52.js";import{A as O}from"./arrow-left-ChrfFWvy.js";import{C as _,a as q}from"./CardContent-D7pMjibJ.js";import{C as G,U as g,a as u,F as J,B as K,b as Q}from"./user-Dxl8GyuL.js";import{P as V}from"./phone-DcneOJSU.js";import{C as j}from"./check-0O2LAWTG.js";import{M as W}from"./mail-CSA8imBK.js";import{S as X}from"./Select-1FYDYG3S.js";import{M as f}from"./MenuItem-GJkZjFZB.js";import"./styles.module-DNUDPVkR.js";import"./BlockCategories-gKFyJIeZ.js";import"./Icon-Cyiifixs.js";import"./Paper-BW67c0Rd.js";import"./useSlot-D1jzCan3.js";import"./Send-DwzwYWJL.js";import"./Box-BIlEOssd.js";import"./smartphone-D7WOu-Aq.js";import"./createLucideIcon-CzejhRRW.js";import"./isHostComponent-B2iQ8i1a.js";import"./listItemButtonClasses-BKDzk8Yp.js";import"./ListItemIcon-lfoxkzoc.js";import"./ListItemText-6SnngRZD.js";import"./listItemTextClasses-BxSQuiyo.js";import"./hook-ChxrQmvj.js";import"./Avatar-BaiBLuYk.js";import"./IconButton-Cu0Qh6L-.js";import"./Menu-bPvhPpmt.js";import"./Modal-C_Vi7S8X.js";import"./ThemeProvider-tTCgpLcA.js";import"./utils-Cf3rMUPJ.js";import"./Button-3jDmhGPp.js";import"./index-Cn1U3PfC.js";import"./index--SyUBnmF.js";import"./useControlled--Ee95RYi.js";import"./formControlState-Dq1zat_P.js";import"./useFormControl-D4hgghdo.js";const qe=({contact:s,agents:N})=>{const n=x.get(P),v=x.get(I),[y,C]=o.useState(s.agentId||-1),{snackbar:l,setSnackbar:i,handleClose:b}=H(),[w,m]=o.useState(!1),k=()=>{m(!1)},S=()=>{m(!0)},[d,c]=o.useState(null),p=async(a,r)=>{await navigator.clipboard.writeText(a),c(r),i(t=>({...t,open:!0,message:"Copied!",severity:"success"})),setTimeout(()=>c(null),2e3)},A=()=>{m(!1);const a=new FormData;a.append("id",s.id.toString()),n.destroy(s.id,a).then(r=>{i(t=>({...t,open:!0,message:"contact has been deleted!",severity:"success"})),E.get("/admin/contact")}).catch(r=>{i(t=>({...t,open:!0,message:"Error Happened while deleting contact!",severity:"error"}))})},B=async a=>{if(C(a.target.value),a.target.value>0){const r=new FormData;r.append("agentId",a.target.value.toString()),n.agent(r,s.id).then(()=>{i(t=>({...t,open:!0,message:"An agent has been assigned!",severity:"success"}))}).catch(()=>{i(t=>({...t,open:!0,message:"error while assigning agent!",severity:"success"}))})}};return e.jsxs(F,{children:[e.jsx(M,{title:"Contact"}),e.jsx("div",{className:"min-h-screen bg-background p-6",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex justify-start items-center",children:[e.jsx(O,{className:"h-4 w-4"}),e.jsx(D,{href:"/admin/contact",className:"gap-2",children:"Back to Contacts"})]}),e.jsx(U,{task:"delete",onClick:S})]}),e.jsxs(_,{children:[e.jsx(G,{children:e.jsx(T,{className:"text-2xl",children:"Contact Details"})}),e.jsxs(q,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:e.jsx(g,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Name"}),e.jsx("p",{className:"text-lg font-medium",children:s.name})]})]}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:e.jsx(V,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Phone"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"text-lg font-medium",children:s.phone}),e.jsx(h,{variant:"link",size:"icon",className:"h-8 w-8",onClick:()=>p(s.phone,"Phone"),children:d==="Phone"?e.jsx(j,{className:"h-4 w-4 text-green-500"}):e.jsx(u,{className:"h-4 w-4 text-muted-foreground"})})]})]})]}),s.email&&e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:e.jsx(W,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"text-lg font-medium",children:s.email}),e.jsx(h,{variant:"link",size:"icon",className:"h-8 w-8",onClick:()=>p(s.email,"Email"),children:d==="Email"?e.jsx(j,{className:"h-4 w-4 text-green-500"}):e.jsx(u,{className:"h-4 w-4 text-muted-foreground"})})]})]})]}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:e.jsx(g,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Type"}),e.jsx("p",{className:"text-lg font-medium",children:z[s.type]})]})]}),s.message&&e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:e.jsx(J,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Notes"}),e.jsx("p",{className:"text-base",children:s.message})]})]}),s.action&&e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:e.jsx(K,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Action"}),e.jsx("p",{className:"text-base",children:s.action})]})]}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:e.jsx(Q,{className:"h-5 w-5 text-primary"})}),e.jsx("div",{children:e.jsxs(X,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:y,label:"Agent",onChange:(a,r)=>B(a),children:[e.jsx(f,{value:-1,selected:!0,children:"Agent"}),N.map((a,r)=>e.jsx(f,{value:a.id,children:v.getBlockName(a)},a.id))]})})]})]})]})]})}),e.jsx(L,{open:l.open,message:l.message,onClose:b,severity:l.severity}),e.jsx(R,{open:w,onClose:k,message:"Are you sure that you want to delete this contact?",confirmDelete:A})]})};export{qe as default};
