import{C as S,R as D,a as l,j as r,H as v,b as E}from"./app-B05HYnb3.js";import{E as b,D as L}from"./DeleteButton-Cxxul0h5.js";import{u as A}from"./SnackbarHook-CiBrGsL4.js";import{C as j}from"./CustomSnackbar-Bez-GNp6.js";import{L as T}from"./LeadService-CMvd6d_j.js";import{A as k}from"./AdminLayout-BqgSxwa6.js";import{B as y}from"./Box-RV04XL3h.js";import{G as R,C as P,a as I,P as F,T as B,E as z,b as G,S as H,c as N,d as M,F as O,R as q}from"./grid.component-LY5_DiYp.js";import{I as _}from"./toolbar-9i02xyaC.js";import"./CustomButton-CJVVLJmt.js";import"./Paper-Bv3sIEco.js";import"./useSlot-xgwQKnQ5.js";import"./Send-ZAnJecau.js";import"./Button-C2eAeK6r.js";import"./Modal-Cn09HyHg.js";import"./IconButton-B3gEuC88.js";import"./styles.module-DNUDPVkR.js";import"./BlockCategories-gKFyJIeZ.js";import"./Icon-Dao_BtV8.js";import"./mail-wIstfkvy.js";import"./createLucideIcon-CqSzLRzo.js";import"./smartphone-Bx5cTzbE.js";import"./isHostComponent-C3L2UNi8.js";import"./MenuItem-B8b56AnY.js";import"./listItemTextClasses-CNzp_QZz.js";import"./listItemButtonClasses-DLtIpq-e.js";import"./ListItemIcon-C6KgXvLR.js";import"./ListItemText-Ir23mb16.js";import"./hook-C_C30jOJ.js";import"./Avatar-CW627ElJ.js";import"./Menu-BVfd7xCs.js";import"./ThemeProvider-Bv7TvrOm.js";const ve=({leads:d})=>{const m=S.get(T),[s,p]=D.useState(d),c=e=>{console.log("delete here"),m.delete(new FormData,e.id).then(()=>{p(s.filter(t=>t.id!==e.id)),E.reload(),n(t=>({...t,open:!0,message:"Lead has been deleted!",severity:"success"}))}).catch(t=>{n(o=>({...o,open:!0,message:"Error happened when deleting Lead!",severity:"error"}))})},x=[{type:"checkbox",width:"50"},{field:"referenceName",headerText:"Reference",width:"150",textAlign:"Center"},{field:"agentName",headerText:"Agent",width:"130",textAlign:"Center"},{field:"name",headerText:"Name",width:"130",textAlign:"Center"},{field:"phone",headerText:"Phone",width:"130",textAlign:"Center"},{field:"email",headerText:"Email",width:"130",textAlign:"Center"},{field:"message",headerText:"Message",width:"130",textAlign:"Center"},{headerText:"Edit",width:"130",textAlign:"Center",template:b},{headerText:"Delete",width:"130",textAlign:"Center",template:e=>L(e,c)}];let i;const h={type:"Multiple"},g={type:"Excel"},u={pageSizes:l.PageSizes,pageSize:l.ListLimit,totalRecordsCount:3,pageCount:25},{snackbar:a,setSnackbar:n,handleClose:f}=A(),w=e=>{switch(e.requestType){case"paging":break;case"searching":e.searchString;break}},C=e=>{if(e.rows!==void 0&&e.fromIndex!==void 0&&e.dropIndex!==void 0){e.cancel=!0;let t=[];for(let o=0;o<e?.rows?.length;o++)t.push(e?.fromIndex+o);i&&i.reorderRows(t,e.dropIndex)}};return r.jsxs(k,{children:[r.jsx(v,{title:"Leads"}),r.jsxs(y,{children:[r.jsxs(R,{ref:e=>i=e,id:"blockComp",dataSource:s,allowPaging:!0,allowSorting:!0,allowFiltering:!0,allowExcelExport:!0,allowPdfExport:!0,toolbar:["Delete","Search"],editSettings:{allowDeleting:!0,showDeleteConfirmDialog:!0},filterSettings:g,pageSettings:u,actionComplete:w,allowRowDragAndDrop:!0,selectionSettings:h,rowDrop:C,children:[r.jsx(P,{children:x.map((e,t)=>r.jsx(I,{...e},t))}),r.jsx(_,{services:[F,B,z,G,H,N,M,O,q]})]}),r.jsx(j,{open:a.open,message:a.message,onClose:f,severity:a.severity})]})]})};export{ve as default};
