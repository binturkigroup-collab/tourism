import{r as l,j as g,a4 as ge,z as je,T as D,k as Pe,a5 as _e,s as Ae}from"./app-C3wK80uY.js";import{R as De}from"./isHostComponent-CYuES88E.js";import{j as Oe,e as ye,D as Ve}from"./useSlot-D00As9hZ.js";import{G as Ie,a as Ke}from"./Box-DXkLJjvK.js";const pe=l.createContext(null);function X(){return l.useContext(pe)}const Re=typeof Symbol=="function"&&Symbol.for,Ne=Re?Symbol.for("mui.nested"):"__THEME_NESTED__";function Ge(e,t){return typeof t=="function"?t(e):{...e,...t}}function qe(e){const{children:t,theme:o}=e,r=X(),a=l.useMemo(()=>{const d=r===null?{...o}:Ge(r,o);return d!=null&&(d[Ne]=r!==null),d},[o,r]);return g.jsx(pe.Provider,{value:a,children:t})}function He(e){const t=ge(),o=Oe()||"",{modularCssLayers:r}=e;let a="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!r||t!==null?a="":typeof r=="string"?a=r.replace(/mui(?!\.)/g,a):a=`@layer ${a};`,ye(()=>{const d=document.querySelector("head");if(!d)return;const s=d.firstChild;if(a){if(s&&s.hasAttribute?.("data-mui-layer-order")&&s.getAttribute("data-mui-layer-order")===o)return;const m=document.createElement("style");m.setAttribute("data-mui-layer-order",o),m.textContent=a,d.prepend(m)}else d.querySelector(`style[data-mui-layer-order="${o}"]`)?.remove()},[a,o]),a?g.jsx(Ie,{styles:a}):null}const he={};function fe(e,t,o,r=!1){return l.useMemo(()=>{const a=e&&t[e]||t;if(typeof o=="function"){const d=o(a),s=e?{...t,[e]:d}:d;return r?()=>s:s}return e?{...t,[e]:o}:{...t,...o}},[e,t,o,r])}function Ce(e){const{children:t,theme:o,themeId:r}=e,a=ge(he),d=X()||he,s=fe(r,a,o),m=fe(r,d,o,!0),C=(r?s[r]:s).direction==="rtl",y=He(s);return g.jsx(qe,{theme:m,children:g.jsx(je.Provider,{value:s,children:g.jsx(De,{value:C,children:g.jsxs(Ve,{value:r?s[r].components:s.components,children:[y,t]})})})})}const Z="mode",W="color-scheme",Fe="data-color-scheme";function Ue(e){const{defaultMode:t="system",defaultLightColorScheme:o="light",defaultDarkColorScheme:r="dark",modeStorageKey:a=Z,colorSchemeStorageKey:d=W,attribute:s=Fe,colorSchemeNode:m="document.documentElement",nonce:C}=e||{};let y="",f=s;if(s==="class"&&(f=".%s"),s==="data"&&(f="[data-%s]"),f.startsWith(".")){const S=f.substring(1);y+=`${m}.classList.remove('${S}'.replace('%s', light), '${S}'.replace('%s', dark));
      ${m}.classList.add('${S}'.replace('%s', colorScheme));`}const x=f.match(/\[([^\]]+)\]/);if(x){const[S,p]=x[1].split("=");p||(y+=`${m}.removeAttribute('${S}'.replace('%s', light));
      ${m}.removeAttribute('${S}'.replace('%s', dark));`),y+=`
      ${m}.setAttribute('${S}'.replace('%s', colorScheme), ${p?`${p}.replace('%s', colorScheme)`:'""'});`}else y+=`${m}.setAttribute('${f}', colorScheme);`;return g.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?C:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${a}') || '${t}';
  const dark = localStorage.getItem('${d}-dark') || '${r}';
  const light = localStorage.getItem('${d}-light') || '${o}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${y}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function Ye(){}const ze=({key:e,storageWindow:t})=>(!t&&typeof window<"u"&&(t=window),{get(o){if(typeof window>"u")return;if(!t)return o;let r;try{r=t.localStorage.getItem(e)}catch{}return r||o},set:o=>{if(t)try{t.localStorage.setItem(e,o)}catch{}},subscribe:o=>{if(!t)return Ye;const r=a=>{const d=a.newValue;a.key===e&&o(d)};return t.addEventListener("storage",r),()=>{t.removeEventListener("storage",r)}}});function J(){}function Se(e){if(typeof window<"u"&&typeof window.matchMedia=="function"&&e==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function Me(e,t){if(e.mode==="light"||e.mode==="system"&&e.systemMode==="light")return t("light");if(e.mode==="dark"||e.mode==="system"&&e.systemMode==="dark")return t("dark")}function Be(e){return Me(e,t=>{if(t==="light")return e.lightColorScheme;if(t==="dark")return e.darkColorScheme})}function Qe(e){const{defaultMode:t="light",defaultLightColorScheme:o,defaultDarkColorScheme:r,supportedColorSchemes:a=[],modeStorageKey:d=Z,colorSchemeStorageKey:s=W,storageWindow:m=typeof window>"u"?void 0:window,storageManager:C=ze,noSsr:y=!1}=e,f=a.join(","),x=a.length>1,S=l.useMemo(()=>C?.({key:d,storageWindow:m}),[C,d,m]),p=l.useMemo(()=>C?.({key:`${s}-light`,storageWindow:m}),[C,s,m]),$=l.useMemo(()=>C?.({key:`${s}-dark`,storageWindow:m}),[C,s,m]),[v,P]=l.useState(()=>{const c=S?.get(t)||t,n=p?.get(o)||o,i=$?.get(r)||r;return{mode:c,systemMode:Se(c),lightColorScheme:n,darkColorScheme:i}}),[L,q]=l.useState(y||!x);l.useEffect(()=>{q(!0)},[]);const O=Be(v),V=l.useCallback(c=>{P(n=>{if(c===n.mode)return n;const i=c??t;return S?.set(i),{...n,mode:i,systemMode:Se(i)}})},[S,t]),_=l.useCallback(c=>{c?typeof c=="string"?c&&!f.includes(c)?console.error(`\`${c}\` does not exist in \`theme.colorSchemes\`.`):P(n=>{const i={...n};return Me(n,u=>{u==="light"&&(p?.set(c),i.lightColorScheme=c),u==="dark"&&($?.set(c),i.darkColorScheme=c)}),i}):P(n=>{const i={...n},u=c.light===null?o:c.light,j=c.dark===null?r:c.dark;return u&&(f.includes(u)?(i.lightColorScheme=u,p?.set(u)):console.error(`\`${u}\` does not exist in \`theme.colorSchemes\`.`)),j&&(f.includes(j)?(i.darkColorScheme=j,$?.set(j)):console.error(`\`${j}\` does not exist in \`theme.colorSchemes\`.`)),i}):P(n=>(p?.set(o),$?.set(r),{...n,lightColorScheme:o,darkColorScheme:r}))},[f,p,$,o,r]),I=l.useCallback(c=>{v.mode==="system"&&P(n=>{const i=c?.matches?"dark":"light";return n.systemMode===i?n:{...n,systemMode:i}})},[v.mode]),R=l.useRef(I);return R.current=I,l.useEffect(()=>{if(typeof window.matchMedia!="function"||!x)return;const c=(...i)=>R.current(...i),n=window.matchMedia("(prefers-color-scheme: dark)");return n.addListener(c),c(n),()=>{n.removeListener(c)}},[x]),l.useEffect(()=>{if(x){const c=S?.subscribe(u=>{(!u||["light","dark","system"].includes(u))&&V(u||t)})||J,n=p?.subscribe(u=>{(!u||f.match(u))&&_({light:u})})||J,i=$?.subscribe(u=>{(!u||f.match(u))&&_({dark:u})})||J;return()=>{c(),n(),i()}}},[_,V,f,t,m,x,S,p,$]),{...v,mode:L?v.mode:void 0,systemMode:L?v.systemMode:void 0,colorScheme:L?O:void 0,setMode:V,setColorScheme:_}}const Je="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function Xe(e){const{themeId:t,theme:o={},modeStorageKey:r=Z,colorSchemeStorageKey:a=W,disableTransitionOnChange:d=!1,defaultColorScheme:s,resolveTheme:m}=e,C={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},y=l.createContext(void 0),f=()=>l.useContext(y)||C,x={},S={};function p(L){const{children:q,theme:O,modeStorageKey:V=r,colorSchemeStorageKey:_=a,disableTransitionOnChange:I=d,storageManager:R,storageWindow:c=typeof window>"u"?void 0:window,documentNode:n=typeof document>"u"?void 0:document,colorSchemeNode:i=typeof document>"u"?void 0:document.documentElement,disableNestedContext:u=!1,disableStyleSheetGeneration:j=!1,defaultMode:be="system",forceThemeRerender:ke=!1,noSsr:Te}=L,H=l.useRef(!1),xe=X(),F=l.useContext(y),U=!!F&&!u,ee=l.useMemo(()=>O||(typeof o=="function"?o():o),[O]),te=ee[t],M=te||ee,{colorSchemes:w=x,components:oe=S,cssVarPrefix:Y}=M,re=Object.keys(w).filter(b=>!!w[b]).join(","),A=l.useMemo(()=>re.split(","),[re]),se=typeof s=="string"?s:s.light,ne=typeof s=="string"?s:s.dark,Ee=w[se]&&w[ne]?be:w[M.defaultColorScheme]?.palette?.mode||M.palette?.mode,{mode:$e,setMode:ce,systemMode:ie,lightColorScheme:le,darkColorScheme:ae,colorScheme:ve,setColorScheme:de}=Qe({supportedColorSchemes:A,defaultLightColorScheme:se,defaultDarkColorScheme:ne,modeStorageKey:V,colorSchemeStorageKey:_,defaultMode:Ee,storageManager:R,storageWindow:c,noSsr:Te});let z=$e,T=ve;U&&(z=F.mode,T=F.colorScheme);let N=T||M.defaultColorScheme;M.vars&&!ke&&(N=M.defaultColorScheme);const B=l.useMemo(()=>{const b=M.generateThemeVars?.()||M.vars,h={...M,components:oe,colorSchemes:w,cssVarPrefix:Y,vars:b};if(typeof h.generateSpacing=="function"&&(h.spacing=h.generateSpacing()),N){const k=w[N];k&&typeof k=="object"&&Object.keys(k).forEach(E=>{k[E]&&typeof k[E]=="object"?h[E]={...h[E],...k[E]}:h[E]=k[E]})}return m?m(h):h},[M,N,oe,w,Y]),K=M.colorSchemeSelector;ye(()=>{if(T&&i&&K&&K!=="media"){const b=K;let h=K;if(b==="class"&&(h=".%s"),b==="data"&&(h="[data-%s]"),b?.startsWith("data-")&&!b.includes("%s")&&(h=`[${b}="%s"]`),h.startsWith("."))i.classList.remove(...A.map(k=>h.substring(1).replace("%s",k))),i.classList.add(h.substring(1).replace("%s",T));else{const k=h.replace("%s",T).match(/\[([^\]]+)\]/);if(k){const[E,Q]=k[1].split("=");Q||A.forEach(Le=>{i.removeAttribute(E.replace(T,Le))}),i.setAttribute(E,Q?Q.replace(/"|'/g,""):"")}else i.setAttribute(h,T)}}},[T,K,i,A]),l.useEffect(()=>{let b;if(I&&H.current&&n){const h=n.createElement("style");h.appendChild(n.createTextNode(Je)),n.head.appendChild(h),window.getComputedStyle(n.body),b=setTimeout(()=>{n.head.removeChild(h)},1)}return()=>{clearTimeout(b)}},[T,I,n]),l.useEffect(()=>(H.current=!0,()=>{H.current=!1}),[]);const we=l.useMemo(()=>({allColorSchemes:A,colorScheme:T,darkColorScheme:ae,lightColorScheme:le,mode:z,setColorScheme:de,setMode:ce,systemMode:ie}),[A,T,ae,le,z,de,ce,ie,B.colorSchemeSelector]);let me=!0;(j||M.cssVariables===!1||U&&xe?.cssVarPrefix===Y)&&(me=!1);const ue=g.jsxs(l.Fragment,{children:[g.jsx(Ce,{themeId:te?t:void 0,theme:B,children:q}),me&&g.jsx(Ke,{styles:B.generateStyleSheets?.()||[]})]});return U?ue:g.jsx(y.Provider,{value:we,children:ue})}const $=typeof s=="string"?s:s.light,v=typeof s=="string"?s:s.dark;return{CssVarsProvider:p,useColorScheme:f,getInitColorSchemeScript:L=>Ue({colorSchemeStorageKey:a,defaultLightColorScheme:$,defaultDarkColorScheme:v,modeStorageKey:r,...L})}}function Ze({theme:e,...t}){const o=D in e?e[D]:void 0;return g.jsx(Ce,{...t,themeId:o?D:void 0,theme:o||e})}const G={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:We}=Xe({themeId:D,theme:()=>Pe({cssVariables:!0}),colorSchemeStorageKey:G.colorSchemeStorageKey,modeStorageKey:G.modeStorageKey,defaultColorScheme:{light:G.defaultLightColorScheme,dark:G.defaultDarkColorScheme},resolveTheme:e=>{const t={...e,typography:_e(e.palette,e.typography)};return t.unstable_sx=function(r){return Ae({sx:r,theme:this})},t}}),et=We;function nt({theme:e,...t}){const o=l.useMemo(()=>{if(typeof e=="function")return e;const r=D in e?e[D]:e;return"colorSchemes"in r?null:"vars"in r?e:{...e,vars:null}},[e]);return o?g.jsx(Ze,{theme:o,...t}):g.jsx(et,{theme:e,...t})}export{nt as T};
