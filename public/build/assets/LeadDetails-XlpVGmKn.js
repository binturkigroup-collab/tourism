import{C as x,R as o,j as e,H as L,L as D,b as M}from"./app-C3wK80uY.js";import{A as B}from"./AdminLayout-Bn0_Hkt7.js";import{CardTitle as E}from"./card-CBX3Y-oJ.js";import{u as F}from"./SnackbarHook-vWpH4Y2e.js";import{L as H}from"./LeadService-DwJghmXV.js";import{C as P}from"./CustomSnackbar-G8VUdTuF.js";import{D as I}from"./DeleteModal-BYkbcGPj.js";import{C as T}from"./CustomButton-C3dP_EVb.js";import{B as R}from"./BlockService-BwsXifcj.js";import{Button as h}from"./button-DiM2dKwV.js";import{A as U}from"./arrow-left-BQI6l90J.js";import{C as z,a as O}from"./CardContent-DUbUt34Y.js";import{C as _,U as q,a as g,F as G,B as J,b as K}from"./user-L4kW8kxC.js";import{P as Q}from"./phone-CM7QiscR.js";import{C as u}from"./check-C4h44696.js";import{M as V}from"./mail-DB0D0Sj1.js";import{S as W}from"./Select-50sKScyd.js";import{M as j}from"./MenuItem-CqmEd7jq.js";import"./styles.module-DNUDPVkR.js";import"./BlockCategories-gKFyJIeZ.js";import"./Icon-8M-402I0.js";import"./Paper-BEwslr8d.js";import"./useSlot-D00As9hZ.js";import"./Send-MfSLearV.js";import"./Box-DXkLJjvK.js";import"./smartphone-Ba5ETqIJ.js";import"./createLucideIcon-CcfZQpLF.js";import"./isHostComponent-CYuES88E.js";import"./listItemButtonClasses-HyWYRFaA.js";import"./ListItemIcon-DD3KcyQi.js";import"./ListItemText-CY5tp-cQ.js";import"./listItemTextClasses-BIi4qrrm.js";import"./hook-BoUlgXeS.js";import"./Avatar-CTIonlLm.js";import"./IconButton-DcP_xRJ9.js";import"./Menu-Bg2AoiNO.js";import"./Modal-BOfQSbY0.js";import"./ThemeProvider-DYsQb5zk.js";import"./utils-CYQ9GeJJ.js";import"./Button-DN2uCHAG.js";import"./index-DjkkKKL-.js";import"./index-BeU6e-og.js";import"./useControlled-BhUtEkbl.js";import"./formControlState-Dq1zat_P.js";import"./useFormControl-Cr1AHk0s.js";const Oe=({lead:s,agents:f})=>{const n=x.get(H),N=x.get(R),[v,y]=o.useState(s.agentId||-1),{snackbar:m,setSnackbar:i,handleClose:C}=F(),[b,l]=o.useState(!1),w=()=>{l(!1)},k=()=>{l(!0)},[c,d]=o.useState(null),p=async(t,r)=>{await navigator.clipboard.writeText(t),d(r),i(a=>({...a,open:!0,message:"Copied!",severity:"success"})),setTimeout(()=>d(null),2e3)},S=()=>{l(!1);const t=new FormData;t.append("id",s.id.toString()),n.delete(t,s.id).then(r=>{i(a=>({...a,open:!0,message:"contact has been deleted!",severity:"success"})),M.get("/admin/leads")}).catch(r=>{i(a=>({...a,open:!0,message:"Error Happened while deleting contact!",severity:"error"}))})},A=async t=>{if(y(t.target.value),t.target.value>0){const r=new FormData;r.append("agentId",t.target.value.toString()),n.agent(r,s.id).then(()=>{i(a=>({...a,open:!0,message:"An agent has been assigned!",severity:"success"}))}).catch(()=>{i(a=>({...a,open:!0,message:"error while assigning agent!",severity:"success"}))})}};return e.jsxs(B,{children:[e.jsx(L,{title:"Lead"}),e.jsx("div",{className:"min-h-screen bg-background p-6",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex justify-start items-center",children:[e.jsx(U,{className:"h-4 w-4"}),e.jsx(D,{href:"/admin/leads",className:"gap-2",children:"Back to Leads"})]}),e.jsx(T,{task:"delete",onClick:k})]}),e.jsxs(z,{children:[e.jsx(_,{children:e.jsx(E,{className:"text-2xl",children:"Lead Details"})}),e.jsxs(O,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:e.jsx(q,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Name"}),e.jsx("p",{className:"text-lg font-medium",children:s.name})]})]}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:e.jsx(Q,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Phone"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"text-lg font-medium",children:s.phone}),e.jsx(h,{variant:"link",size:"icon",className:"h-8 w-8",onClick:()=>p(s.phone,"Phone"),children:c==="Phone"?e.jsx(u,{className:"h-4 w-4 text-green-500"}):e.jsx(g,{className:"h-4 w-4 text-muted-foreground"})})]})]})]}),s.email&&e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:e.jsx(V,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"text-lg font-medium",children:s.email}),e.jsx(h,{variant:"link",size:"icon",className:"h-8 w-8",onClick:()=>p(s.email,"Email"),children:c==="Email"?e.jsx(u,{className:"h-4 w-4 text-green-500"}):e.jsx(g,{className:"h-4 w-4 text-muted-foreground"})})]})]})]}),s.message&&e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:e.jsx(G,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Notes"}),e.jsx("p",{className:"text-base",children:s.message})]})]}),s.action&&e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:e.jsx(J,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Action"}),e.jsx("p",{className:"text-base",children:s.action})]})]}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:e.jsx(K,{className:"h-5 w-5 text-primary"})}),e.jsx("div",{children:e.jsxs(W,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:v,label:"Agent",onChange:(t,r)=>A(t),children:[e.jsx(j,{value:-1,selected:!0,children:"Agent"}),f.map((t,r)=>e.jsx(j,{value:t.id,children:N.getBlockName(t)},t.id))]})})]})]})]})]})}),e.jsx(P,{open:m.open,message:m.message,onClose:C,severity:m.severity}),e.jsx(I,{open:b,onClose:w,message:"Are you sure that you want to delete this contact?",confirmDelete:S})]})};export{Oe as default};
