import{C as S,R as D,a as l,j as r,b as v}from"./app-DiW-XT2R.js";import{E,D as b}from"./DeleteButton-BJUlI5R7.js";import{u as L}from"./SnackbarHook-CcEHZ6yi.js";import{C as T}from"./CustomSnackbar-Dw7l-5cQ.js";import{L as A}from"./LeadService-CMJtdjrJ.js";import{B as j}from"./Box-BIlEOssd.js";import{G as k,C as R,a as y,P,T as I,E as F,b as B,S as z,c as G,d as N,F as M,R as O}from"./grid.component-DLjYW315.js";import{I as q}from"./toolbar-Bf2-SnO7.js";import"./CustomButton-nEbszSQU.js";import"./Paper-BW67c0Rd.js";import"./useSlot-D1jzCan3.js";import"./Send-DwzwYWJL.js";import"./Button-3jDmhGPp.js";import"./Modal-C_Vi7S8X.js";import"./IconButton-Cu0Qh6L-.js";const oe=({leads:d})=>{const c=S.get(A),[s,p]=D.useState(d),m=e=>{console.log("delete here"),c.delete(new FormData,e.id).then(()=>{p(s.filter(t=>t.id!==e.id)),v.reload(),n(t=>({...t,open:!0,message:"Lead has been deleted!",severity:"success"}))}).catch(t=>{n(o=>({...o,open:!0,message:"Error happened when deleting Lead!",severity:"error"}))})},h=[{type:"checkbox",width:"50"},{field:"referenceName",headerText:"Reference",width:"150",textAlign:"Center"},{field:"agentName",headerText:"Agent",width:"130",textAlign:"Center"},{field:"name",headerText:"Name",width:"130",textAlign:"Center"},{field:"phone",headerText:"Phone",width:"130",textAlign:"Center"},{field:"email",headerText:"Email",width:"130",textAlign:"Center"},{field:"message",headerText:"Message",width:"130",textAlign:"Center"},{headerText:"Edit",width:"130",textAlign:"Center",template:E},{headerText:"Delete",width:"130",textAlign:"Center",template:e=>b(e,m)}];let a;const x={type:"Multiple"},g={type:"Excel"},u={pageSizes:l.PageSizes,pageSize:l.ListLimit,totalRecordsCount:3,pageCount:25},{snackbar:i,setSnackbar:n,handleClose:f}=L(),w=e=>{switch(e.requestType){case"paging":break;case"searching":e.searchString;break}},C=e=>{if(e.rows!==void 0&&e.fromIndex!==void 0&&e.dropIndex!==void 0){e.cancel=!0;let t=[];for(let o=0;o<e?.rows?.length;o++)t.push(e?.fromIndex+o);a&&a.reorderRows(t,e.dropIndex)}};return r.jsxs(j,{children:[r.jsxs(k,{ref:e=>a=e,id:"blockComp",dataSource:s,allowPaging:!0,allowSorting:!0,allowFiltering:!0,allowExcelExport:!0,allowPdfExport:!0,toolbar:["Delete","Search"],editSettings:{allowDeleting:!0,showDeleteConfirmDialog:!0},filterSettings:g,pageSettings:u,actionComplete:w,allowRowDragAndDrop:!0,selectionSettings:x,rowDrop:C,children:[r.jsx(R,{children:h.map((e,t)=>r.jsx(y,{...e},t))}),r.jsx(q,{services:[P,I,F,B,z,G,N,M,O]})]}),r.jsx(T,{open:i.open,message:i.message,onClose:f,severity:i.severity})]})};export{oe as default};
