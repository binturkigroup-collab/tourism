import{R as n,c as T,C as P,ac as I,j as e,L as g,H as $}from"./app-B05HYnb3.js";import{H as L}from"./HeaderLayout-nVAr56w5.js";import{Button as h}from"./button-B1WMqiQw.js";import{B}from"./BlockService-Dra7VTvY.js";import{Badge as M}from"./badge-CQAkPWEM.js";import{Card as j,CardHeader as b,CardTitle as U,CardContent as N}from"./card-DCoPDwxh.js";import H from"./TripCard-Rt6QN0hh.js";import{C as A}from"./chevron-left-Cr4y1uYm.js";import{C as F}from"./chevron-right-Cqol4wfc.js";import{C as E}from"./chevron-up-CAJTzHP4.js";import{C as R}from"./chevron-down-DISx-5Ty.js";import{C as G}from"./clock-B0RCTC1f.js";import{U as _}from"./users-BCCpxvfJ.js";import{c as z}from"./createLucideIcon-CqSzLRzo.js";import{C as q}from"./calendar-aOm81X1G.js";import{M as V}from"./map-pin-eFl9BS59.js";import"./FileService-EkWN1P3I.js";import"./isHostComponent-C3L2UNi8.js";import"./useSlot-xgwQKnQ5.js";import"./ListItem-CIUyGoMR.js";import"./isMuiElement-CWm6COmJ.js";import"./listItemButtonClasses-DLtIpq-e.js";import"./ListItemText-Ir23mb16.js";import"./listItemTextClasses-CNzp_QZz.js";import"./Box-RV04XL3h.js";import"./x-CtBkQpa8.js";import"./toaster-BaEmRG9-.js";import"./toast-CdQjABBH.js";import"./index-Dc_FVRD7.js";import"./index-DFEHFh89.js";import"./index-CKVVcfKu.js";import"./index-DKn6hfYT.js";import"./index-C_xor1JC.js";import"./index-CPqDbwuc.js";import"./index-BE9hcmzf.js";import"./index-DJiHCmf0.js";import"./index-C94N8Yx2.js";import"./index-DFdgyCiu.js";import"./index-Dr7HbvaI.js";import"./index-CEZyL5L1.js";import"./index-BYNfBQNa.js";import"./utils-BNZiWBEC.js";import"./sonner-CuHzfV3x.js";import"./tooltip-DaDuEEcu.js";import"./index-CyGnSxEc.js";import"./index-BzefNG_8.js";import"./index-DBI0mDla.js";import"./ThemeProvider-Bv7TvrOm.js";import"./hook-C_C30jOJ.js";import"./MenuService-7Zz6vbXc.js";import"./phone-DIG8yBgB.js";import"./mail-wIstfkvy.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=z("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),Ye=({trip:t,trips:p})=>{const[r,l]=n.useState(0),[c,v]=n.useState(null),[d,y]=n.useState(!1),{lang:m}=T().props,u=P.get(B),{t:J}=I();if(!t)return e.jsx(e.Fragment,{children:e.jsx("main",{className:"pt-20 min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl font-heading font-bold text-foreground mb-4",children:"Trip Not Found"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"The trip you're looking for doesn't exist."}),e.jsx(h,{asChild:!0,variant:"hero",children:e.jsx(g,{href:`/${m}/trip`,children:"Browse All Trips"})})]})})});const o=t.tripPackage?p.find(s=>s.tripPackage===t.tripPackage):null,k=()=>{l(s=>s===t.images.length-1?0:s+1)},w=()=>{l(s=>s===0?t.images.length-1:s-1)},i=t.appointments.filter(s=>new Date(s.startDate)>=new Date).sort((s,a)=>new Date(s.startDate).getTime()-new Date(a.startDate).getTime()),x=c?t.appointments.find(s=>s.id===c):null,f=n.useMemo(()=>p.filter(s=>{const C=s.tags.filter(S=>t.tags.includes(S)).length>0,D=t.tripPackage&&s.tripPackage===t.tripPackage;return C||D}).map(s=>({trip:s,score:s.tags.filter(a=>t.tags.includes(a)).length+(t.tripPackage&&s.tripPackage===t.tripPackage?2:0)})).sort((s,a)=>a.score-s.score).slice(0,3).map(s=>s.trip),[t]);return e.jsxs(L,{children:[e.jsx($,{title:"Packages"}),e.jsxs("main",{children:[e.jsx("section",{className:"relative",children:e.jsxs("div",{className:"relative h-[50vh] md:h-[60vh] overflow-hidden",children:[e.jsx("img",{src:u.getImageUrl(t.images[r].url),alt:`${t.title} - Image ${r+1}`,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-black/20"}),t.images.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:w,className:"absolute left-4 top-1/2 -translate-y-1/2 p-3 rounded-full bg-background/80 backdrop-blur-sm text-foreground hover:bg-background transition-colors","aria-label":"Previous image",children:e.jsx(A,{className:"w-6 h-6"})}),e.jsx("button",{onClick:k,className:"absolute right-4 top-1/2 -translate-y-1/2 p-3 rounded-full bg-background/80 backdrop-blur-sm text-foreground hover:bg-background transition-colors","aria-label":"Next image",children:e.jsx(F,{className:"w-6 h-6"})})]}),t.images.length>1&&e.jsx("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 flex gap-2",children:t.images.map((s,a)=>e.jsx("button",{onClick:()=>l(a),className:`w-2.5 h-2.5 rounded-full transition-all ${a===r?"bg-primary w-8":"bg-white/50 hover:bg-white/80"}`,"aria-label":`Go to image ${a+1}`},a))}),e.jsx("div",{className:"absolute bottom-6 right-6 hidden md:flex gap-2",children:t.images.slice(0,4).map((s,a)=>e.jsx("button",{onClick:()=>l(a),className:`w-16 h-12 rounded-md overflow-hidden border-2 transition-all ${a===r?"border-primary":"border-transparent opacity-70 hover:opacity-100"}`,children:e.jsx("img",{src:u.getImageUrl(s.url),alt:`Thumbnail ${a+1}`,className:"w-full h-full object-cover"})},a))})]})}),e.jsx("section",{className:"py-8 md:py-12",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[(d?t.tags:t.tags.slice(0,3)).map(s=>e.jsx(M,{variant:"secondary",children:s.title},s.title)),t.tags.length>3&&e.jsx("button",{onClick:()=>y(!d),className:"inline-flex items-center gap-1 text-sm text-primary hover:text-primary/80 transition-colors font-medium",children:d?e.jsxs(e.Fragment,{children:["Show less",e.jsx(E,{className:"w-4 h-4"})]}):e.jsxs(e.Fragment,{children:["+",t.tags.length-3," more",e.jsx(R,{className:"w-4 h-4"})]})})]}),e.jsx("h1",{className:"font-heading text-3xl md:text-4xl lg:text-5xl font-bold text-foreground mb-4",children:t.title}),e.jsx("p",{className:"text-xl text-muted-foreground",children:t.brief})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-lg bg-secondary/50",children:[e.jsx(G,{className:"w-6 h-6 text-primary"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Duration"}),e.jsx("p",{className:"font-semibold text-foreground",children:t.duration})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-lg bg-secondary/50",children:[e.jsx(_,{className:"w-6 h-6 text-primary"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Max Guests"}),e.jsx("p",{className:"font-semibold text-foreground",children:t.maxGuests})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-lg bg-secondary/50",children:[e.jsx(Y,{className:"w-6 h-6 text-primary"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Min Age"}),e.jsxs("p",{className:"font-semibold text-foreground",children:[t.minAge,"+"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-lg bg-secondary/50",children:[e.jsx(q,{className:"w-6 h-6 text-primary"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Dates"}),e.jsxs("p",{className:"font-semibold text-foreground",children:[i.length," available"]})]})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-heading text-2xl font-bold text-foreground mb-4",children:"About This Trip"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed",children:t.description})]}),o&&e.jsxs(j,{className:"border-primary/30 bg-primary/5",children:[e.jsx(b,{children:e.jsxs(U,{className:"flex items-center gap-2 text-foreground",children:[e.jsx(V,{className:"w-5 h-5 text-primary"}),"Part of ",o.title]})}),e.jsxs(N,{children:[e.jsxs("p",{className:"text-muted-foreground mb-4",children:["This trip is included in our ",o.title,". Book the full package for the complete experience."]}),e.jsx(h,{asChild:!0,variant:"outline",children:e.jsx(g,{href:`/${m}/package/${o.slug}`,children:"View Package Details"})})]})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(j,{className:"sticky top-28 border-border shadow-lg",children:[e.jsx(b,{className:"bg-gradient-to-br from-primary/10 to-transparent",children:e.jsxs("div",{className:"flex items-baseline justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-3xl font-bold text-foreground",children:t.price.toLocaleString()}),e.jsx("span",{className:"text-muted-foreground ml-1",children:"AED"})]}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"per person"})]})}),e.jsxs(N,{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-foreground mb-3",children:"Select a Date"}),i.length===0?e.jsx("p",{className:"text-muted-foreground text-sm",children:"No upcoming dates available. Check back soon!"}):e.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:i.map(s=>e.jsx("button",{onClick:()=>v(s.id),className:`w-full p-3 rounded-lg border text-left transition-all ${c===s.id?"border-primary bg-primary/10":"border-border hover:border-primary/50"}`,children:e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("span",{className:"font-medium text-foreground",children:new Date(s.startDate).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"})})})},s.id))})]}),e.jsx(h,{variant:"hero",size:"lg",className:"w-full",disabled:!x||i.length===0,children:x?`Book for ${new Date(x.startDate).toLocaleDateString("en-US",{month:"short",day:"numeric"})}`:"Select a Date"}),e.jsx("div",{className:"pt-4 border-t border-border text-center",children:e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Have questions?"," ",e.jsx(g,{href:`/${m}/contact`,className:"text-primary hover:underline",children:"Contact us"})]})})]})]})})]})})}),f.length>0&&e.jsx("section",{className:"py-12 md:py-16 bg-secondary/30",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx("h2",{className:"font-heading text-2xl md:text-3xl font-bold text-foreground mb-8 text-center",children:"Similar Trips You May Like"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(s=>e.jsx(H,{trip:s,featured:!1,packages:[]},s.id))})]})})]})]})};export{Ye as default};
