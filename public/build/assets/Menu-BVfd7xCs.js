import{f as q,r as m,j as H}from"./app-B05HYnb3.js";import{L as Ee,i as Re,u as Te}from"./isHostComponent-C3L2UNi8.js";import{o as ke,p as Se,f as pe,q as De,e as Fe,a as fe,g as de,b as U,u as he,l as W,c as me,r as Le}from"./useSlot-xgwQKnQ5.js";import{o as J,P as Oe,G as Ie}from"./Paper-Bv3sIEco.js";import{g as Ae,o as Q,M as Ne}from"./Modal-Cn09HyHg.js";function Ke(e){const{elementType:t,externalSlotProps:o,ownerState:a,skipResolvingSlotProps:P=!1,...c}=e,i=P?{}:ke(o,a),{props:s,internalRef:n}=Se({...c,externalSlotProps:i}),y=pe(n,i?.ref,e.additionalProps?.ref);return De(t,{...s,ref:y},a)}function ze(e,t=166){let o;function a(...P){const c=()=>{e.apply(this,P)};clearTimeout(o),o=setTimeout(c,t)}return a.clear=()=>{clearTimeout(o)},a}function He(e,t){const o=e.charCodeAt(2);return e[0]==="o"&&e[1]==="n"&&o>=65&&o<=90&&typeof t=="function"}function je(e,t){if(!e)return t;function o(i,s){const n={};return Object.keys(s).forEach(y=>{He(y,s[y])&&typeof i[y]=="function"&&(n[y]=(...v)=>{i[y](...v),s[y](...v)})}),n}if(typeof e=="function"||typeof t=="function")return i=>{const s=typeof t=="function"?t(i):t,n=typeof e=="function"?e({...i,...s}):e,y=q(i?.className,s?.className,n?.className),v=o(n,s);return{...s,...n,...v,...!!y&&{className:y},...s?.style&&n?.style&&{style:{...s.style,...n.style}},...s?.sx&&n?.sx&&{sx:[...Array.isArray(s.sx)?s.sx:[s.sx],...Array.isArray(n.sx)?n.sx:[n.sx]]}}};const a=t,P=o(e,a),c=q(a?.className,e?.className);return{...t,...e,...P,...!!c&&{className:c},...a?.style&&e?.style&&{style:{...a.style,...e.style}},...a?.sx&&e?.sx&&{sx:[...Array.isArray(a.sx)?a.sx:[a.sx],...Array.isArray(e.sx)?e.sx:[e.sx]]}}}function Y(e,t,o){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:o?null:e.firstChild}function ae(e,t,o){return e===t?o?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:o?null:e.lastChild}function ye(e,t){if(t===void 0)return!0;let o=e.innerText;return o===void 0&&(o=e.textContent),o=o.trim().toLowerCase(),o.length===0?!1:t.repeating?o[0]===t.keys[0]:o.startsWith(t.keys.join(""))}function j(e,t,o,a,P,c){let i=!1,s=P(e,t,t?o:!1);for(;s;){if(s===e.firstChild){if(i)return!1;i=!0}const n=a?!1:s.disabled||s.getAttribute("aria-disabled")==="true";if(!s.hasAttribute("tabindex")||!ye(s,c)||n)s=P(e,s,o);else return s.focus(),!0}return!1}const We=m.forwardRef(function(t,o){const{actions:a,autoFocus:P=!1,autoFocusItem:c=!1,children:i,className:s,disabledItemsFocusable:n=!1,disableListWrap:y=!1,onKeyDown:v,variant:O="selectedMenu",...A}=t,u=m.useRef(null),x=m.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Fe(()=>{P&&u.current.focus()},[P]),m.useImperativeHandle(a,()=>({adjustStyleForScrollbar:(r,{direction:p})=>{const f=!u.current.style.width;if(r.clientHeight<u.current.clientHeight&&f){const C=`${Ae(Q(r))}px`;u.current.style[p==="rtl"?"paddingLeft":"paddingRight"]=C,u.current.style.width=`calc(100% + ${C})`}return u.current}}),[]);const N=r=>{const p=u.current,f=r.key;if(r.ctrlKey||r.metaKey||r.altKey){v&&v(r);return}const S=J(p).activeElement;if(f==="ArrowDown")r.preventDefault(),j(p,S,y,n,Y);else if(f==="ArrowUp")r.preventDefault(),j(p,S,y,n,ae);else if(f==="Home")r.preventDefault(),j(p,null,y,n,Y);else if(f==="End")r.preventDefault(),j(p,null,y,n,ae);else if(f.length===1){const d=x.current,k=f.toLowerCase(),I=performance.now();d.keys.length>0&&(I-d.lastTime>500?(d.keys=[],d.repeating=!0,d.previousKeyMatched=!0):d.repeating&&k!==d.keys[0]&&(d.repeating=!1)),d.lastTime=I,d.keys.push(k);const D=S&&!d.repeating&&ye(S,d);d.previousKeyMatched&&(D||j(p,S,!1,n,Y,d))?r.preventDefault():d.previousKeyMatched=!1}v&&v(r)},F=pe(u,o);let l=-1;m.Children.forEach(i,(r,p)=>{if(!m.isValidElement(r)){l===p&&(l+=1,l>=i.length&&(l=-1));return}r.props.disabled||(O==="selectedMenu"&&r.props.selected||l===-1)&&(l=p),l===p&&(r.props.disabled||r.props.muiSkipListHighlight||r.type.muiSkipListHighlight)&&(l+=1,l>=i.length&&(l=-1))});const M=m.Children.map(i,(r,p)=>{if(p===l){const f={};return c&&(f.autoFocus=!0),r.props.tabIndex===void 0&&O==="selectedMenu"&&(f.tabIndex=0),m.cloneElement(r,f)}return r});return H.jsx(Ee,{role:"menu",ref:F,className:s,onKeyDown:N,tabIndex:P?0:-1,...A,children:M})});function Ue(e){return fe("MuiPopover",e)}de("MuiPopover",["root","paper"]);function le(e,t){let o=0;return typeof t=="number"?o=t:t==="center"?o=e.height/2:t==="bottom"&&(o=e.height),o}function ce(e,t){let o=0;return typeof t=="number"?o=t:t==="center"?o=e.width/2:t==="right"&&(o=e.width),o}function ue(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function _(e){return typeof e=="function"?e():e}const $e=e=>{const{classes:t}=e;return me({root:["root"],paper:["paper"]},Ue,t)},Ge=U(Ne,{name:"MuiPopover",slot:"Root"})({}),ge=U(Oe,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Ve=m.forwardRef(function(t,o){const a=he({props:t,name:"MuiPopover"}),{action:P,anchorEl:c,anchorOrigin:i={vertical:"top",horizontal:"left"},anchorPosition:s,anchorReference:n="anchorEl",children:y,className:v,container:O,elevation:A=8,marginThreshold:u=16,open:x,PaperProps:N={},slots:F={},slotProps:l={},transformOrigin:M={vertical:"top",horizontal:"left"},TransitionComponent:r,transitionDuration:p="auto",TransitionProps:f={},disableScrollLock:C=!1,...S}=a,d=m.useRef(),k={...a,anchorOrigin:i,anchorReference:n,elevation:A,marginThreshold:u,transformOrigin:M,TransitionComponent:r,transitionDuration:p,TransitionProps:f},I=$e(k),D=m.useCallback(()=>{if(n==="anchorPosition")return s;const h=_(c),w=(h&&h.nodeType===1?h:J(d.current).body).getBoundingClientRect();return{top:w.top+le(w,i.vertical),left:w.left+ce(w,i.horizontal)}},[c,i.horizontal,i.vertical,s,n]),L=m.useCallback(h=>({vertical:le(h,M.vertical),horizontal:ce(h,M.horizontal)}),[M.horizontal,M.vertical]),$=m.useCallback(h=>{const b={width:h.offsetWidth,height:h.offsetHeight},w=L(b);if(n==="none")return{top:null,left:null,transformOrigin:ue(w)};const te=D();let K=te.top-w.vertical,z=te.left-w.horizontal;const oe=K+b.height,se=z+b.width,ne=Q(_(c)),re=ne.innerHeight-u,ie=ne.innerWidth-u;if(u!==null&&K<u){const T=K-u;K-=T,w.vertical+=T}else if(u!==null&&oe>re){const T=oe-re;K-=T,w.vertical+=T}if(u!==null&&z<u){const T=z-u;z-=T,w.horizontal+=T}else if(se>ie){const T=se-ie;z-=T,w.horizontal+=T}return{top:`${Math.round(K)}px`,left:`${Math.round(z)}px`,transformOrigin:ue(w)}},[c,n,D,L,u]),[B,G]=m.useState(x),E=m.useCallback(()=>{const h=d.current;if(!h)return;const b=$(h);b.top!==null&&h.style.setProperty("top",b.top),b.left!==null&&(h.style.left=b.left),h.style.transformOrigin=b.transformOrigin,G(!0)},[$]);m.useEffect(()=>(C&&window.addEventListener("scroll",E),()=>window.removeEventListener("scroll",E)),[c,C,E]);const X=()=>{E()},V=()=>{G(!1)};m.useEffect(()=>{x&&E()}),m.useImperativeHandle(P,()=>x?{updatePosition:()=>{E()}}:null,[x,E]),m.useEffect(()=>{if(!x)return;const h=ze(()=>{E()}),b=Q(_(c));return b.addEventListener("resize",h),()=>{h.clear(),b.removeEventListener("resize",h)}},[c,x,E]);let g=p;const R={slots:{transition:r,...F},slotProps:{transition:f,paper:N,...l}},[Z,Pe]=W("transition",{elementType:Ie,externalForwardedProps:R,ownerState:k,getSlotProps:h=>({...h,onEntering:(b,w)=>{h.onEntering?.(b,w),X()},onExited:b=>{h.onExited?.(b),V()}}),additionalProps:{appear:!0,in:x}});p==="auto"&&!Z.muiSupportAuto&&(g=void 0);const be=O||(c?J(_(c)).body:void 0),[ee,{slots:ve,slotProps:we,...xe}]=W("root",{ref:o,elementType:Ge,externalForwardedProps:{...R,...S},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:F.backdrop},slotProps:{backdrop:je(typeof l.backdrop=="function"?l.backdrop(k):l.backdrop,{invisible:!0})},container:be,open:x},ownerState:k,className:q(I.root,v)}),[Me,Ce]=W("paper",{ref:d,className:I.paper,elementType:ge,externalForwardedProps:R,shouldForwardComponentProp:!0,additionalProps:{elevation:A,style:B?void 0:{opacity:0}},ownerState:k});return H.jsx(ee,{...xe,...!Re(ee)&&{slots:ve,slotProps:we,disableScrollLock:C},children:H.jsx(Z,{...Pe,timeout:g,children:H.jsx(Me,{...Ce,children:y})})})});function _e(e){return fe("MuiMenu",e)}de("MuiMenu",["root","paper","list"]);const qe={vertical:"top",horizontal:"right"},Be={vertical:"top",horizontal:"left"},Xe=e=>{const{classes:t}=e;return me({root:["root"],paper:["paper"],list:["list"]},_e,t)},Ye=U(Ve,{shouldForwardProp:e=>Le(e)||e==="classes",name:"MuiMenu",slot:"Root"})({}),Je=U(ge,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Qe=U(We,{name:"MuiMenu",slot:"List"})({outline:0}),nt=m.forwardRef(function(t,o){const a=he({props:t,name:"MuiMenu"}),{autoFocus:P=!0,children:c,className:i,disableAutoFocusItem:s=!1,MenuListProps:n={},onClose:y,open:v,PaperProps:O={},PopoverClasses:A,transitionDuration:u="auto",TransitionProps:{onEntering:x,...N}={},variant:F="selectedMenu",slots:l={},slotProps:M={},...r}=a,p=Te(),f={...a,autoFocus:P,disableAutoFocusItem:s,MenuListProps:n,onEntering:x,PaperProps:O,transitionDuration:u,TransitionProps:N,variant:F},C=Xe(f),S=P&&!s&&v,d=m.useRef(null),k=(g,R)=>{d.current&&d.current.adjustStyleForScrollbar(g,{direction:p?"rtl":"ltr"}),x&&x(g,R)},I=g=>{g.key==="Tab"&&(g.preventDefault(),y&&y(g,"tabKeyDown"))};let D=-1;m.Children.map(c,(g,R)=>{m.isValidElement(g)&&(g.props.disabled||(F==="selectedMenu"&&g.props.selected||D===-1)&&(D=R))});const L={slots:l,slotProps:{list:n,transition:N,paper:O,...M}},$=Ke({elementType:l.root,externalSlotProps:M.root,ownerState:f,className:[C.root,i]}),[B,G]=W("paper",{className:C.paper,elementType:Je,externalForwardedProps:L,shouldForwardComponentProp:!0,ownerState:f}),[E,X]=W("list",{className:q(C.list,n.className),elementType:Qe,shouldForwardComponentProp:!0,externalForwardedProps:L,getSlotProps:g=>({...g,onKeyDown:R=>{I(R),g.onKeyDown?.(R)}}),ownerState:f}),V=typeof L.slotProps.transition=="function"?L.slotProps.transition(f):L.slotProps.transition;return H.jsx(Ye,{onClose:y,anchorOrigin:{vertical:"bottom",horizontal:p?"right":"left"},transformOrigin:p?qe:Be,slots:{root:l.root,paper:B,backdrop:l.backdrop,...l.transition&&{transition:l.transition}},slotProps:{root:$,paper:G,backdrop:typeof M.backdrop=="function"?M.backdrop(f):M.backdrop,transition:{...V,onEntering:(...g)=>{k(...g),V?.onEntering?.(...g)}}},open:v,ref:o,transitionDuration:u,ownerState:f,...r,classes:A,children:H.jsx(E,{actions:d,autoFocus:P&&(D===-1||s),autoFocusItem:S,variant:F,...X,children:c})})});export{nt as M,ze as d,je as m,Ke as u};
