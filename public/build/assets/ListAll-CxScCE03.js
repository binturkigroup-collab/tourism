import{C as S,R as D,a as l,j as r,H as v,b as E}from"./app-DiW-XT2R.js";import{E as b,D as L}from"./DeleteButton-BJUlI5R7.js";import{u as A}from"./SnackbarHook-CcEHZ6yi.js";import{C as j}from"./CustomSnackbar-Dw7l-5cQ.js";import{L as T}from"./LeadService-CMJtdjrJ.js";import{A as k}from"./AdminLayout-BncvC458.js";import{B as y}from"./Box-BIlEOssd.js";import{G as R,C as P,a as I,P as F,T as B,E as z,b as G,S as H,c as N,d as M,F as O,R as q}from"./grid.component-DLjYW315.js";import{I as _}from"./toolbar-Bf2-SnO7.js";import"./CustomButton-nEbszSQU.js";import"./Paper-BW67c0Rd.js";import"./useSlot-D1jzCan3.js";import"./Send-DwzwYWJL.js";import"./Button-3jDmhGPp.js";import"./Modal-C_Vi7S8X.js";import"./IconButton-Cu0Qh6L-.js";import"./styles.module-DNUDPVkR.js";import"./BlockCategories-gKFyJIeZ.js";import"./Icon-Cyiifixs.js";import"./mail-CSA8imBK.js";import"./createLucideIcon-CzejhRRW.js";import"./smartphone-D7WOu-Aq.js";import"./isHostComponent-B2iQ8i1a.js";import"./MenuItem-GJkZjFZB.js";import"./listItemTextClasses-BxSQuiyo.js";import"./listItemButtonClasses-BKDzk8Yp.js";import"./ListItemIcon-lfoxkzoc.js";import"./ListItemText-6SnngRZD.js";import"./hook-ChxrQmvj.js";import"./Avatar-BaiBLuYk.js";import"./Menu-bPvhPpmt.js";import"./ThemeProvider-tTCgpLcA.js";const ve=({leads:d})=>{const m=S.get(T),[s,p]=D.useState(d),c=e=>{console.log("delete here"),m.delete(new FormData,e.id).then(()=>{p(s.filter(t=>t.id!==e.id)),E.reload(),n(t=>({...t,open:!0,message:"Lead has been deleted!",severity:"success"}))}).catch(t=>{n(o=>({...o,open:!0,message:"Error happened when deleting Lead!",severity:"error"}))})},x=[{type:"checkbox",width:"50"},{field:"referenceName",headerText:"Reference",width:"150",textAlign:"Center"},{field:"agentName",headerText:"Agent",width:"130",textAlign:"Center"},{field:"name",headerText:"Name",width:"130",textAlign:"Center"},{field:"phone",headerText:"Phone",width:"130",textAlign:"Center"},{field:"email",headerText:"Email",width:"130",textAlign:"Center"},{field:"message",headerText:"Message",width:"130",textAlign:"Center"},{headerText:"Edit",width:"130",textAlign:"Center",template:b},{headerText:"Delete",width:"130",textAlign:"Center",template:e=>L(e,c)}];let i;const h={type:"Multiple"},g={type:"Excel"},u={pageSizes:l.PageSizes,pageSize:l.ListLimit,totalRecordsCount:3,pageCount:25},{snackbar:a,setSnackbar:n,handleClose:f}=A(),w=e=>{switch(e.requestType){case"paging":break;case"searching":e.searchString;break}},C=e=>{if(e.rows!==void 0&&e.fromIndex!==void 0&&e.dropIndex!==void 0){e.cancel=!0;let t=[];for(let o=0;o<e?.rows?.length;o++)t.push(e?.fromIndex+o);i&&i.reorderRows(t,e.dropIndex)}};return r.jsxs(k,{children:[r.jsx(v,{title:"Leads"}),r.jsxs(y,{children:[r.jsxs(R,{ref:e=>i=e,id:"blockComp",dataSource:s,allowPaging:!0,allowSorting:!0,allowFiltering:!0,allowExcelExport:!0,allowPdfExport:!0,toolbar:["Delete","Search"],editSettings:{allowDeleting:!0,showDeleteConfirmDialog:!0},filterSettings:g,pageSettings:u,actionComplete:w,allowRowDragAndDrop:!0,selectionSettings:h,rowDrop:C,children:[r.jsx(P,{children:x.map((e,t)=>r.jsx(I,{...e},t))}),r.jsx(_,{services:[F,B,z,G,H,N,M,O,q]})]}),r.jsx(j,{open:a.open,message:a.message,onClose:f,severity:a.severity})]})]})};export{ve as default};
